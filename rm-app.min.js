var t=require("delegate-it"),e=require("path-to-regexp");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/n(t);const o=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",i=({hash:t}={})=>location.pathname+location.search+(t?location.hash:""),s=(t,e={})=>{const n={url:t=t||i({hash:!0}),random:Math.random(),source:"swup",...e};history.pushState(n,"",t)},a=(t=null,e={})=>{t=t||i({hash:!0});const n={...history.state||{},url:t,random:Math.random(),source:"swup",...e};history.replaceState(n,"",t)},c=(t,e,n,o)=>{const i=new AbortController;return o={...o,signal:i.signal},r.default(t,e,n,o),{destroy:()=>i.abort()}};class l extends URL{constructor(t,e=document.baseURI){super(t.toString(),e),Object.setPrototypeOf(this,l.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const e=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new l(e)}static fromUrl(t){return new l(t)}}const h=function(t,e={}){try{const r=this;function n(n){const{status:i,url:s}=h;return Promise.resolve(h.text()).then(function(n){if(500===i)throw r.hooks.call("fetch:error",o,{status:i,response:h,url:s}),new u(`Server error: ${s}`,{status:i,url:s});if(!n)throw new u(`Empty response: ${s}`,{status:i,url:s});const{url:a}=l.fromUrl(s),c={url:a,html:n};return!o.cache.write||e.method&&"GET"!==e.method||t!==a||r.cache.set(c.url,c),c})}t=l.fromUrl(t).url;const{visit:o=r.visit}=e,i={...r.options.requestHeaders,...e.headers},s=e.timeout??r.options.timeout,a=new AbortController,{signal:c}=a;e={...e,headers:i,signal:c};let h,d=!1,m=null;s&&s>0&&(m=setTimeout(()=>{d=!0,a.abort("timeout")},s));const f=function(n,i){try{var s=Promise.resolve(r.hooks.call("fetch:request",o,{url:t,options:e},(t,{url:e,options:n})=>fetch(e,n))).then(function(t){h=t,m&&clearTimeout(m)})}catch(t){return i(t)}return s&&s.then?s.then(void 0,i):s}(0,function(e){if(d)throw r.hooks.call("fetch:timeout",o,{url:t}),new u(`Request timed out: ${t}`,{url:t,timedOut:d});if("AbortError"===e?.name||c.aborted)throw new u(`Request aborted: ${t}`,{url:t,aborted:!0});throw e});return Promise.resolve(f&&f.then?f.then(n):n())}catch(p){return Promise.reject(p)}};class u extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}class d{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((e,n)=>{t.set(n,{...e})}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const e=this.pages.get(this.resolve(t));return e?{...e}:e}set(t,e){t=this.resolve(t),e={...e,url:t},this.pages.set(t,e),this.swup.hooks.callSync("cache:set",void 0,{page:e})}update(t,e){t=this.resolve(t);const n={...this.get(t),...e,url:t};this.pages.set(t,n)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((e,n)=>{t(n,e)&&this.delete(n)})}resolve(t){const{url:e}=l.fromUrl(t);return this.swup.resolveUrl(e)}}const m=(t,e=document)=>e.querySelector(t),f=(t,e=document)=>Array.from(e.querySelectorAll(t)),p=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function v(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function g(t,e=[]){return new Promise((n,r)=>{const o=t(...e);v(o)?o.then(n,r):n(o)})}const w=t=>window.CSS&&window.CSS.escape?CSS.escape(t):t,y=t=>1e3*Number(t.slice(0,-1).replace(",","."));class P{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return"containers"===t?this.swup.visit.containers:"html"===t?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?f(this.selector):[]}add(){this.targets.forEach(t=>t.classList.add(...[].slice.call(arguments)))}remove(){this.targets.forEach(t=>t.classList.remove(...[].slice.call(arguments)))}clear(){this.targets.forEach(t=>{const e=t.className.split(" ").filter(t=>this.isSwupClass(t));t.classList.remove(...e)})}isSwupClass(t){return this.swupClasses.some(e=>t.startsWith(e))}}class k{constructor(t,e){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0;const{to:n,from:r=t.currentPageUrl,hash:o,el:i,event:s}=e;this.id=Math.random(),this.state=1,this.from={url:r},this.to={url:n,hash:o},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:i,event:s},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function b(t){return new k(this,t)}const S="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function E(t,e,n){if(!t.s){if(n instanceof x){if(!n.s)return void(n.o=E.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(E.bind(null,t,e),E.bind(null,t,2));t.s=e,t.v=n;const r=t.o;r&&r(t)}}const x=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(e,n){const r=new t,o=this.s;if(o){const t=1&o?e:n;if(t){try{E(r,1,t(this.v))}catch(t){E(r,2,t)}return r}return this}return this.o=function(t){try{const o=t.v;1&t.s?E(r,1,e?e(o):o):n?E(r,1,n(o)):E(r,2,o)}catch(t){E(r,2,t)}},r},t}();function U(t){return t instanceof x&&1&t.s}class C{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,e,n={}){const r=this.get(t);if(!r)return console.warn(`Hook '${t}' not found.`),()=>{};const o={...n,id:r.size+1,hook:t,handler:e};return r.set(e,o),()=>this.off(t,e)}before(t,e,n={}){return this.on(t,e,{...n,before:!0})}replace(t,e,n={}){return this.on(t,e,{...n,replace:!0})}once(t,e,n={}){return this.on(t,e,{...n,once:!0})}off(t,e){const n=this.get(t);n&&e?n.delete(e)||console.warn(`Handler for hook '${t}' not found.`):n&&n.clear()}call(t,e,n,r){try{const o=this,[i,s,a]=o.parseCallArgs(t,e,n,r),{before:c,handler:l,after:h}=o.getHandlers(t,a);return Promise.resolve(o.run(c,i,s)).then(function(){return Promise.resolve(o.run(l,i,s)).then(function([e]){return Promise.resolve(o.run(h,i,s)).then(function(){return o.dispatchDomEvent(t,i,s),e})})})}catch(t){return Promise.reject(t)}}callSync(t,e,n,r){const[o,i,s]=this.parseCallArgs(t,e,n,r),{before:a,handler:c,after:l}=this.getHandlers(t,s);this.runSync(a,o,i);const[h]=this.runSync(c,o,i);return this.runSync(l,o,i),this.dispatchDomEvent(t,o,i),h}parseCallArgs(t,e,n,r){return e instanceof k||"object"!=typeof e&&"function"!=typeof n?[e,n,r]:[void 0,e,n]}run(t,e,n){try{const r=this,o=[],i=function(t,e,n){if("function"==typeof t[S]){var r,o,i,s=t[S]();if(function t(n){try{for(;!(r=s.next()).done;)if((n=e(r.value))&&n.then){if(!U(n))return void n.then(t,i||(i=E.bind(null,o=new x,2)));n=n.v}o?E(o,1,n):o=n}catch(t){E(o||(o=new x),2,t)}}(),s.return){var a=function(t){try{r.done||s.return()}catch(t){}return t};if(o&&o.then)return o.then(a,function(t){throw a(t)});a()}return o}if(!("length"in t))throw new TypeError("Object is not iterable");for(var c=[],l=0;l<t.length;l++)c.push(t[l]);return function(t,e,n){var r,o,i=-1;return function n(s){try{for(;++i<t.length;)if((s=e(i))&&s.then){if(!U(s))return void s.then(n,o||(o=E.bind(null,r=new x,2)));s=s.v}r?E(r,1,s):r=s}catch(t){E(r||(r=new x),2,t)}}(),r}(c,function(t){return e(c[t])})}(t,function({hook:t,handler:i,defaultHandler:s,once:a}){if(!e?.done)return a&&r.off(t,i),Promise.resolve(g(i,[e||r.swup.visit,n,s])).then(function(t){o.push(t)})});return Promise.resolve(i&&i.then?i.then(function(){return o}):o)}catch(t){return Promise.reject(t)}}runSync(t,e,n){const r=[];for(const{hook:o,handler:i,defaultHandler:s,once:a}of t){if(e?.done)continue;a&&this.off(o,i);const t=i(e||this.swup.visit,n,s);r.push(t),v(t)&&console.warn(`Promise returned from handler for synchronous hook '${o}'.Swup will not wait for it to resolve.`)}return r}getHandlers(t,e){const n=this.get(t);if(!n)return{found:!1,before:[],handler:[],after:[],replaced:!1};const r=Array.from(n.values()),o=this.sortRegistrations,i=r.filter(({before:t,replace:e})=>t&&!e).sort(o),s=r.filter(({replace:t})=>t).filter(t=>!0).sort(o),a=r.filter(({before:t,replace:e})=>!t&&!e).sort(o),c=s.length>0;let l=[];if(e&&(l=[{id:0,hook:t,handler:e}],c)){const n=s.length-1,r=t=>{const n=s[t-1];return n?(e,o)=>n.handler(e,o,r(t-1)):e};l=[{id:0,hook:t,handler:s[n].handler,defaultHandler:r(n)}]}return{found:!0,before:i,handler:l,after:a,replaced:c}}sortRegistrations(t,e){return(t.priority??0)-(e.priority??0)||t.id-e.id||0}dispatchDomEvent(t,e,n){if(e?.done)return;const r={hook:t,args:n,visit:e||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:r,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:r,bubbles:!0}))}}const $=t=>{if(t&&"#"===t.charAt(0)&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let n=document.getElementById(t)||document.getElementById(e)||m(`a[name='${w(t)}']`)||m(`a[name='${w(e)}']`);return n||"top"!==t||(n=document.body),n},A=function({elements:t,selector:e}){try{if(!1===e&&!t)return Promise.resolve();let n=[];if(t)n=Array.from(t);else if(e&&(n=f(e,document.body),!n.length))return console.warn(`[swup] No elements found matching animationSelector \`${e}\``),Promise.resolve();const r=n.map(t=>function(t){const{type:e,timeout:n,propCount:r}=function(t,e){const n=window.getComputedStyle(t),r=R(n,`${H}Delay`),o=R(n,`${H}Duration`),i=j(r,o),s=R(n,`${q}Delay`),a=R(n,`${q}Duration`),c=j(s,a);let l=null,h=0,u=0;return e===H?i>0&&(l=H,h=i,u=o.length):e===q?c>0&&(l=q,h=c,u=a.length):(h=Math.max(i,c),l=h>0?i>c?H:q:null,u=l?l===H?o.length:a.length:0),{type:l,timeout:h,propCount:u}}(t);return!(!e||!n)&&new Promise(o=>{const i=`${e}end`,s=performance.now();let a=0;const c=()=>{t.removeEventListener(i,l),o()},l=e=>{if(e.target===t){if(!function(t){return[`${H}end`,`${q}end`].includes(t.type)}(e))throw new Error("Not a transition or animation event.");(performance.now()-s)/1e3<e.elapsedTime||++a>=r&&c()}};setTimeout(()=>{a<r&&c()},n+1),t.addEventListener(i,l)})}(t));return r.filter(Boolean).length>0?Promise.resolve(Promise.all(r)).then(function(){}):(e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``),Promise.resolve())}catch(t){return Promise.reject(t)}},H="transition",q="animation";function R(t,e){return(t[e]||"").split(", ")}function j(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((e,n)=>y(e)+y(t[n])))}const I=function(t,e={}){try{let r;const c=this;function n(n){if(r)return n;c.navigating=!0,c.visit=t;const{el:l}=t.trigger;e.referrer=e.referrer||c.currentPageUrl,!1===e.animate&&(t.animation.animate=!1),t.animation.animate||c.classes.clear();const h=e.history||l?.getAttribute("data-swup-history")||void 0;h&&["push","replace"].includes(h)&&(t.history.action=h);const u=e.animation||l?.getAttribute("data-swup-animation")||void 0;return u&&(t.animation.name=u),"object"==typeof e.cache?(t.cache.read=e.cache.read??t.cache.read,t.cache.write=e.cache.write??t.cache.write):void 0!==e.cache&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache,function(n,r){try{var l=Promise.resolve(c.hooks.call("visit:start",t,void 0)).then(function(){function n(){if(!t.done)return Promise.resolve(c.hooks.call("visit:transition",t,void 0,function(){try{let n;function e(e){return n?e:(t.advance(4),Promise.resolve(c.animatePageOut(t)).then(function(){function e(){return Promise.resolve(c.animatePageIn(t)).then(function(){})}const n=function(){if(t.animation.native&&document.startViewTransition)return Promise.resolve(document.startViewTransition(function(){try{const e=c.renderPage;return Promise.resolve(r).then(function(n){return Promise.resolve(e.call(c,t,n))})}catch(t){return Promise.reject(t)}}).finished).then(function(){});{const e=c.renderPage;return Promise.resolve(r).then(function(n){return Promise.resolve(e.call(c,t,n)).then(function(){})})}}();return n&&n.then?n.then(e):e()}))}const o=function(){if(!t.animation.animate)return Promise.resolve(c.hooks.call("animation:skip",void 0)).then(function(){const e=c.renderPage;return Promise.resolve(r).then(function(r){return Promise.resolve(e.call(c,t,r)).then(function(){n=1})})})}();return Promise.resolve(o&&o.then?o.then(e):e(o))}catch(i){return Promise.reject(i)}})).then(function(){if(!t.done)return Promise.resolve(c.hooks.call("visit:end",t,void 0,()=>c.classes.clear())).then(function(){t.state=7,c.navigating=!1,c.onVisitEnd&&(c.onVisitEnd(),c.onVisitEnd=void 0)})})}t.state=3;const r=c.hooks.call("page:load",t,{options:e},function(t,e){try{function n(t){return e.page=t,e.cache=!!r,e.page}let r;return t.cache.read&&(r=c.cache.get(t.to.url)),Promise.resolve(r?n(r):Promise.resolve(c.fetchPage(t.to.url,e.options)).then(n))}catch(o){return Promise.reject(o)}});if(r.then(({html:e})=>{t.advance(5),t.to.html=e}),!t.history.popstate){const e=t.to.url+t.to.hash;"replace"===t.history.action||t.to.url===c.currentPageUrl?a(e):(c.currentHistoryIndex++,s(e,{index:c.currentHistoryIndex}))}c.currentPageUrl=i(),t.history.popstate&&c.classes.add("is-popstate"),t.animation.name&&c.classes.add(`to-${o(t.animation.name)}`);const l=function(){if(t.animation.wait)return Promise.resolve(r).then(function(){})}();return l&&l.then?l.then(n):n()})}catch(t){return r(t)}return l&&l.then?l.then(void 0,r):l}(0,function(e){e&&!e?.aborted?(t.state=9,console.error(e),c.options.skipPopStateHandling=()=>(window.location.href=t.to.url+t.to.hash,!0),window.history.go(-1)):t.state=8})}const l=function(){if(c.navigating)return function(){if(!(c.visit.state>=6))return Promise.resolve(c.hooks.call("visit:abort",c.visit,void 0)).then(function(){c.visit.state=8});t.state=2,c.onVisitEnd=()=>c.performNavigation(t,e),r=1}()}();return Promise.resolve(l&&l.then?l.then(n):n(l))}catch(h){return Promise.reject(h)}};function L(t,e={},n={}){if("string"!=typeof t)throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:n.el,event:n.event}))return void(window.location.href=t);const{url:r,hash:o}=l.fromUrl(t),i=this.createVisit({...n,to:r,hash:o});this.performNavigation(i,e)}const T=function(t){try{const e=this;return Promise.resolve(e.hooks.call("animation:out:start",t,void 0,()=>{e.classes.add("is-changing","is-animating","is-leaving")})).then(function(){return Promise.resolve(e.hooks.call("animation:out:await",t,{skip:!1},(t,{skip:n})=>{if(!n)return e.awaitAnimations({selector:t.animation.selector})})).then(function(){return Promise.resolve(e.hooks.call("animation:out:end",t,void 0)).then(function(){})})})}catch(t){return Promise.reject(t)}},V=function({html:t},{containers:e}=this.options){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("title")?.innerText||"";document.title=r;const o=f('[data-swup-persist]:not([data-swup-persist=""])'),i=e.map(t=>{const e=document.querySelector(t),r=n.querySelector(t);return e&&r?(e.replaceWith(r),!0):(e||console.warn(`[swup] Container missing in current document: ${t}`),r||console.warn(`[swup] Container missing in incoming document: ${t}`),!1)}).filter(Boolean);return o.forEach(t=>{const e=t.getAttribute("data-swup-persist"),n=m(`[data-swup-persist="${e}"]`);n&&n!==t&&n.replaceWith(t)}),i.length===e.length},N=function(t){const e={behavior:"auto"},{target:n,reset:r}=t.scroll,o=n??t.to.hash;let i=!1;return o&&(i=this.hooks.callSync("scroll:anchor",t,{hash:o,options:e},(t,{hash:e,options:n})=>{const r=this.getAnchorElement(e);return r&&r.scrollIntoView(n),!!r})),r&&!i&&(i=this.hooks.callSync("scroll:top",t,{options:e},(t,{options:e})=>(window.scrollTo({top:0,left:0,...e}),!0))),i},D=function(t){try{const e=this;if(t.done)return Promise.resolve();const n=e.hooks.call("animation:in:await",t,{skip:!1},(t,{skip:n})=>{if(!n)return e.awaitAnimations({selector:t.animation.selector})});return Promise.resolve(p()).then(function(){return Promise.resolve(e.hooks.call("animation:in:start",t,void 0,()=>{e.classes.remove("is-animating")})).then(function(){return Promise.resolve(n).then(function(){return Promise.resolve(e.hooks.call("animation:in:end",t,void 0)).then(function(){})})})})}catch(t){return Promise.reject(t)}},M=function(t,e){try{const n=this;if(t.done)return Promise.resolve();t.advance(6);const{url:r}=e;return n.classes.remove("is-leaving"),n.isSameResolvedUrl(i(),r)||(a(r),n.currentPageUrl=i(),t.to.url=n.currentPageUrl),t.animation.animate&&n.classes.add("is-rendering"),Promise.resolve(n.hooks.call("content:replace",t,{page:e},(t,{page:e})=>{if(!n.replaceContent(e,{containers:t.containers}))throw new Error("[swup] Container mismatch, aborting");t.animation.animate&&(n.classes.add("is-changing","is-animating","is-rendering"),t.animation.name&&n.classes.add(`to-${o(t.animation.name)}`))})).then(function(){return Promise.resolve(n.hooks.call("content:scroll",t,void 0,()=>n.scrollToContent(t))).then(function(){return Promise.resolve(n.hooks.call("page:view",t,{url:n.currentPageUrl,title:document.title})).then(function(){})})})}catch(t){return Promise.reject(t)}},O=function(t){var e;if(e=t,Boolean(e?.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function W(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(t=>t!==e),this.plugins;console.error("No such plugin",e)}function B(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function _(t){if("function"!=typeof this.options.resolveUrl)return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&"string"==typeof e?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function F(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const K={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],ignoreVisit:(t,{el:e}={})=>!!e?.closest("[data-no-swup]"),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>"swup"!==t.state?.source,timeout:0};exports.Location=l,exports.classify=o,exports.createHistoryRecord=s,exports.default=class{constructor(t={}){this.version="4.5.0",this.options=void 0,this.defaults=K,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.currentPageUrl=i(),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=O,this.unuse=W,this.findPlugin=B,this.log=()=>{},this.navigate=L,this.performNavigation=I,this.createVisit=b,this.delegateEvent=c,this.fetchPage=h,this.awaitAnimations=A,this.renderPage=M,this.replaceContent=V,this.animatePageIn=D,this.animatePageOut=T,this.scrollToContent=N,this.getAnchorElement=$,this.getCurrentUrl=i,this.resolveUrl=_,this.isSameResolvedUrl=F,this.options={...this.defaults,...t},this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new d(this),this.classes=new P(this),this.hooks=new C(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=history.state?.index??1,this.checkRequirements()&&this.enable()}checkRequirements(){return"undefined"!=typeof Promise||(console.warn("Promise is not supported"),!1)}enable(){try{const t=this,{linkSelector:e}=t.options;return t.clickDelegate=t.delegateEvent(e,"click",t.handleLinkClick),window.addEventListener("popstate",t.handlePopState),t.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),t.options.native=t.options.native&&!!document.startViewTransition,t.options.plugins.forEach(e=>t.use(e)),"swup"!==history.state?.source&&a(null,{index:t.currentHistoryIndex}),Promise.resolve(p()).then(function(){return Promise.resolve(t.hooks.call("enable",void 0,void 0,()=>{const e=document.documentElement;e.classList.add("swup-enabled"),e.classList.toggle("swup-native",t.options.native)})).then(function(){})})}catch(t){return Promise.reject(t)}}destroy(){try{const t=this;return t.clickDelegate.destroy(),window.removeEventListener("popstate",t.handlePopState),t.cache.clear(),t.options.plugins.forEach(e=>t.unuse(e)),Promise.resolve(t.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")})).then(function(){t.hooks.clear()})}catch(t){return Promise.reject(t)}}shouldIgnoreVisit(t,{el:e,event:n}={}){const{origin:r,url:o,hash:i}=l.fromUrl(t);return r!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(o+i,{el:e,event:n})}handleLinkClick(t){const e=t.delegateTarget,{href:n,url:r,hash:o}=l.fromElement(e);if(this.shouldIgnoreVisit(n,{el:e,event:t}))return;if(this.navigating&&r===this.visit.to.url)return void t.preventDefault();const i=this.createVisit({to:r,hash:o,el:e,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",i,{href:n}):0===t.button&&this.hooks.callSync("link:click",i,{el:e,event:t},()=>{const e=i.from.url??"";t.preventDefault(),r&&r!==e?this.isSameResolvedUrl(r,e)||this.performNavigation(i):o?this.hooks.callSync("link:anchor",i,{hash:o},()=>{a(r+o),this.scrollToContent(i)}):this.hooks.callSync("link:self",i,void 0,()=>{"navigate"===this.options.linkToSelf?this.performNavigation(i):(a(r),this.scrollToContent(i))})})}handlePopState(t){const e=t.state?.url??location.href;if(this.options.skipPopStateHandling(t))return;if(this.isSameResolvedUrl(i(),this.currentPageUrl))return;const{url:n,hash:r}=l.fromUrl(e),o=this.createVisit({to:n,hash:r,event:t});o.history.popstate=!0;const s=t.state?.index??0;s&&s!==this.currentHistoryIndex&&(o.history.direction=s-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=s),o.animation.animate=!1,o.scroll.reset=!1,o.scroll.target=!1,this.options.animateHistoryBrowsing&&(o.animation.animate=!0,o.scroll.reset=!0),this.hooks.callSync("history:popstate",o,{event:t},()=>{this.performNavigation(o)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}},exports.delegateEvent=c,exports.escapeCssIdentifier=w,exports.forceReflow=function(t){return t=t||document.body,t?.offsetHeight},exports.getCurrentUrl=i,exports.isPromise=v,exports.matchPath=(t,n)=>{try{return e.match(t,n)}catch(e){throw new Error(`[swup] Error parsing path "${String(t)}":\n${String(e)}`)}},exports.nextTick=p,exports.query=m,exports.queryAll=f,exports.runAsPromise=g,exports.toMs=y,exports.updateHistoryRecord=a;
//# sourceMappingURL=Swup.cjs.map

function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=/*#__PURE__*/e(require("@swup/plugin"));function s(e){return"title"!==e.localName&&!e.matches("[data-swup-theme]")}function r(e,t){return e.outerHTML===t.outerHTML}function n(e){return e.matches("link[rel=stylesheet][href]")}module.exports=class extends t.default{constructor(e){void 0===e&&(e={}),super();const t=this;this.name="SwupHeadPlugin",this.requires={swup:">=4"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,timeout:3e3},this.options=void 0,this.updateHead=function(e,o){let{page:{html:i}}=o;try{const e=(new DOMParser).parseFromString(i,"text/html"),{removed:o,added:a}=function(e,t,n){let{shouldPersist:o=(()=>!1)}=void 0===n?{}:n;const i=Array.from(e.children),l=Array.from(t.children),u=(a=i,l.reduce((e,t,s)=>(a.some(e=>r(t,e))||e.push({el:t,index:s}),e),[]));var a;const d=function(e,t){return e.reduce((e,s)=>(t.some(e=>r(s,e))||e.push({el:s}),e),[])}(i,l);return d.reverse().filter(e=>{let{el:t}=e;return s(t)}).filter(e=>{let{el:t}=e;return!o(t)}).forEach(t=>{let{el:s}=t;return e.removeChild(s)}),u.filter(e=>{let{el:t}=e;return s(t)}).forEach(t=>{let{el:s,index:r=0}=t;e.insertBefore(s,e.children[r+1]||null)}),{removed:d.map(e=>{let{el:t}=e;return t}),added:u.map(e=>{let{el:t}=e;return t})}}(document.head,e.head,{shouldPersist:e=>t.isPersistentTag(e)});t.swup.log(`Removed ${o.length} / added ${a.length} tags in head`);const d=(l=document.documentElement).lang!==(u=e.documentElement).lang?(l.lang=u.lang,l.lang):null;d&&t.swup.log(`Updated lang attribute: ${d}`);const c=function(){if(t.options.awaitAssets){const s=(void 0===(e=t.options.timeout)&&(e=0),a.filter(n).map(t=>function(e,t){void 0===t&&(t=0);const s=t=>{(e=>{let{href:t}=e;return Array.from(document.styleSheets).map(e=>{let{href:t}=e;return t}).includes(t)})(e)?t():setTimeout(()=>s(t),10)};return new Promise(e=>{s(e),t>0&&setTimeout(e,t)})}(t,e))),r=function(){if(s.length)return t.swup.log(`Waiting for ${s.length} assets to load`),Promise.resolve(Promise.all(s)).then(function(){})}();if(r&&r.then)return r.then(function(){})}var e}();return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(e){return Promise.reject(e)}var l,u},this.options={...this.defaults,...e},this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(e){const{persistTags:t}=this.options;return"function"==typeof t?t(e):"string"==typeof t?e.matches(t):Boolean(t)}};


var t=require("swup"),e=require("@swup/plugin"),n=require("morphdom");function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/o(e),i=/*#__PURE__*/o(n);const s={INPUT:!0,TEXTAREA:!0,SELECT:!0},a={INPUT:!0,TEXTAREA:!0,OPTION:!0},u={"datetime-local":!0,"select-multiple":!0,"select-one":!0,color:!0,date:!0,datetime:!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,textarea:!0,time:!0,url:!0,week:!0},c=[function(t,e){return!(!a[t.tagName]&&t.isEqualNode(e))},function(t,e){const n=t.closest("[data-morph-persist]");if(!n&&s[(o=t).tagName]&&u[o.type]&&t===document.activeElement){const n={value:!0};return Array.from(e.attributes).forEach(e=>{n[e.name]||t.setAttribute(e.name,e.value)}),!1}var o;return!n},function(t,e){return t!==document.activeElement||!t.isContentEditable}];function l(t,e,n){void 0===n&&(n=[]);const o=[...c,...n];return i.default(t,e,{onBeforeElUpdated:(t,e)=>function(t,e,n){return!n.map(n=>"function"!=typeof n||n(t,e)).includes(!1)}(t,e,o)})}module.exports=class extends r.default{constructor(t){void 0===t&&(t={}),super(),this.name="SwupMorphPlugin",this.requires={swup:">=4"},this.defaults={containers:[],updateCallbacks:[]},this.options=void 0,this.validateContainers=t=>{t.containers=t.containers.filter(t=>!this.options.containers.includes(t))},this.morphContainers=(t,e)=>{let{page:{html:n}}=e;const o=[document,(new DOMParser).parseFromString(n,"text/html")],r=this.getContainers(...o),i=this.options.updateCallbacks||[];for(const{selector:t,outgoing:e,incoming:n}of r)e&&n?l(e,n,i):this.options.containers.includes(t)&&console.warn(`SwupMorphPlugin: No container found for selector: ${t}`)},this.options={...this.defaults,...t}}mount(){this.before("content:replace",this.validateContainers,{priority:1}),this.on("content:replace",this.morphContainers)}getContainers(t,e){return this.getContainerSelectors().map(n=>({selector:n,outgoing:t.querySelector(n),incoming:e.querySelector(n)}))}getContainerSelectors(){const e=this.options.containers,n=t.queryAll('[data-swup-morph]:not([data-swup-morph=""])').map(t=>`[data-swup-morph='${t.dataset.swupMorph}']`);return this.uniq([...e,...n])}uniq(t){return[...new Set(t)]}};
//# sourceMappingURL=index.cjs.map

function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=/*#__PURE__*/t(require("@swup/plugin"));module.exports=class extends e.default{constructor(t){void 0===t&&(t={}),super(),this.name="SwupScriptsPlugin",this.requires={swup:">=4"},this.defaults={head:!0,body:!0,optin:!1},this.options=void 0,this.options={...this.defaults,...t}}mount(){this.on("content:replace",this.runScripts)}runScripts(){const{head:t,body:e,optin:o}=this.options,r=this.getScope({head:t,body:e});if(!r)return;const s=Array.from(r.querySelectorAll(o?"script[data-swup-reload-script]":"script:not([data-swup-ignore-script])"));s.forEach(t=>this.runScript(t)),this.swup.log(`Executed ${s.length} scripts.`)}runScript(t){const e=document.createElement("script");for(const{name:o,value:r}of t.attributes)e.setAttribute(o,r);return e.textContent=t.textContent,t.replaceWith(e),e}getScope(t){let{head:e,body:o}=t;return e&&o?document:e?document.head:o?document.body:null}};
//# sourceMappingURL=index.cjs.map

var t=require("@swup/plugin"),o=require("swup"),s=require("scrl");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=/*#__PURE__*/e(t),i=/*#__PURE__*/e(s);module.exports=class extends l.default{constructor(t={}){super(),this.name="SwupScrollPlugin",this.requires={swup:">=4.2.0"},this.scrl=void 0,this.defaults={doScrollingRightAway:!1,animateScroll:{betweenPages:!0,samePageWithHash:!0,samePage:!0},scrollFriction:.3,scrollAcceleration:.04,getAnchorElement:void 0,offset:0,scrollContainers:"[data-swup-scroll-container]",shouldResetScrollPosition:()=>!0,markScrollTarget:!1},this.options=void 0,this.cachedScrollPositions={},this.previousScrollRestoration=void 0,this.currentCacheKey=void 0,this.getAnchorElement=(t="")=>"function"==typeof this.options.getAnchorElement?this.options.getAnchorElement(t):this.swup.getAnchorElement(t),this.getOffset=t=>t?"function"==typeof this.options.offset?parseInt(String(this.options.offset(t)),10):parseInt(String(this.options.offset),10):0,this.onBeforeLinkToSelf=t=>{t.scroll.animate=this.shouldAnimate("samePage")},this.handleScrollToTop=t=>(this.swup.scrollTo?.(0,t.scroll.animate),!0),this.onBeforeLinkToAnchor=t=>{t.scroll.animate=this.shouldAnimate("samePageWithHash")},this.handleScrollToAnchor=(t,{hash:o})=>this.maybeScrollToAnchor(o,t.scroll.animate),this.onBeforeVisitStart=t=>{t.scroll.scrolledToContent=!1,t.scroll.animate=this.shouldAnimate("betweenPages")},this.onVisitStart=t=>{this.cacheScrollPositions(t.from.url),this.maybeResetScrollPositions(t),t.scroll.animate&&this.options.doScrollingRightAway&&!(t.scroll.target??t.to.hash)&&this.doScrollingBetweenPages(t)},this.handleScrollToContent=t=>{t.scroll.scrolledToContent||this.doScrollingBetweenPages(t),this.restoreScrollContainers(t.to.url)},this.doScrollingBetweenPages=t=>{if(t.history.popstate&&!t.animation.animate)return;const o=t.scroll.target??t.to.hash;if(o&&this.maybeScrollToAnchor(o,t.scroll.animate))return;if(!t.scroll.reset)return;const s=this.getCachedScrollPositions(t.to.url),e=s?.window?.top||0;requestAnimationFrame(()=>this.swup.scrollTo?.(e,t.scroll.animate)),t.scroll.scrolledToContent=!0},this.maybeResetScrollPositions=t=>{const{popstate:o}=t.history,{url:s}=t.to,{el:e}=t.trigger;o||e&&!this.options.shouldResetScrollPosition(e)||this.resetScrollPositions(s)},this.options={...this.defaults,...t}}mount(){const t=this.swup;t.hooks.create("scroll:start"),t.hooks.create("scroll:end");const o=this.swup.createVisit({to:this.swup.currentPageUrl});this.scrl=new i.default({onStart:()=>t.hooks.callSync("scroll:start",o,void 0),onEnd:()=>t.hooks.callSync("scroll:end",o,void 0),onCancel:()=>t.hooks.callSync("scroll:end",o,void 0),friction:this.options.scrollFriction,acceleration:this.options.scrollAcceleration}),t.scrollTo=(s,e=!0)=>{e?this.scrl.scrollTo(s):(t.hooks.callSync("scroll:start",o,void 0),window.scrollTo(0,s),t.hooks.callSync("scroll:end",o,void 0))},this.previousScrollRestoration=window.history.scrollRestoration,t.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.updateScrollTarget=this.updateScrollTarget.bind(this),this.options.markScrollTarget&&(window.addEventListener("popstate",this.updateScrollTarget),window.addEventListener("hashchange",this.updateScrollTarget),this.on("page:view",this.updateScrollTarget),this.on("link:anchor",this.updateScrollTarget),this.on("link:self",this.updateScrollTarget),this.updateScrollTarget()),this.before("visit:start",this.onBeforeVisitStart,{priority:-1}),this.on("visit:start",this.onVisitStart,{priority:1}),this.replace("content:scroll",this.handleScrollToContent),this.before("link:self",this.onBeforeLinkToSelf,{priority:-1}),this.replace("scroll:top",this.handleScrollToTop),this.before("link:anchor",this.onBeforeLinkToAnchor,{priority:-1}),this.replace("scroll:anchor",this.handleScrollToAnchor)}unmount(){super.unmount(),this.previousScrollRestoration&&(window.history.scrollRestoration=this.previousScrollRestoration),window.removeEventListener("popstate",this.updateScrollTarget),window.removeEventListener("hashchange",this.updateScrollTarget),this.cachedScrollPositions={},delete this.swup.scrollTo,delete this.scrl}shouldAnimate(t){return"boolean"==typeof this.options.animateScroll?this.options.animateScroll:this.options.animateScroll[t]}maybeScrollToAnchor(t,o=!1){if(!t)return!1;const s=this.getAnchorElement(t);if(!s)return console.warn(`Anchor target ${t} not found`),!1;if(!(s instanceof Element))return console.warn(`Anchor target ${t} is not a DOM node`),!1;const{top:e}=s.getBoundingClientRect(),l=e+window.scrollY-this.getOffset(s);return this.swup.scrollTo?.(l,o),!0}cacheScrollPositions(t){const s=this.swup.resolveUrl(t),e=o.queryAll(this.options.scrollContainers).map(t=>({top:t.scrollTop,left:t.scrollLeft})),l={window:{top:window.scrollY,left:window.scrollX},containers:e};this.cachedScrollPositions[s]=l}resetScrollPositions(t){const o=this.swup.resolveUrl(t);delete this.cachedScrollPositions[o]}getCachedScrollPositions(t){const o=this.swup.resolveUrl(t);return this.cachedScrollPositions[o]}restoreScrollContainers(t){const s=this.getCachedScrollPositions(t);s&&0!==s.containers.length&&o.queryAll(this.options.scrollContainers).forEach((t,o)=>{const e=s.containers[o];null!=e&&(t.scrollTop=e.top,t.scrollLeft=e.left)})}updateScrollTarget(){const{hash:t}=window.location,o=document.querySelector("[data-swup-scroll-target]");let s=this.getAnchorElement(t);s instanceof HTMLBodyElement&&(s=null),o!==s&&(o?.removeAttribute("data-swup-scroll-target"),s?.setAttribute("data-swup-scroll-target",""))}};
//# sourceMappingURL=index.cjs.map

function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=/*#__PURE__*/t(require("@swup/theme"));module.exports=class extends a.default{constructor(t={}){if(super(),this.name="SwupOverlayTheme",this.defaults={direction:"to-right",color:void 0,duration:void 0},this.directions=["to-left","to-right","to-top","to-bottom"],this.options={...this.defaults,...t},!this.directions.includes(this.options.direction))throw new Error(`Invalid direction: ${direction}`)}mount(){this.applyStyles("html{--swup-overlay-theme-color:#2d2e82;--swup-overlay-theme-duration:.6s;--swup-overlay-theme-delay:.2s;--swup-overlay-theme-scale:1.2;--swup-overlay-theme-skew:5deg}.swup-transition-overlay{--swup-overlay-x-scale:1;--swup-overlay-y-scale:1;--swup-overlay-skew-direction:1;--swup-overlay-width-value:calc(100vw*var(--swup-overlay-x-scale));--swup-overlay-height-value:calc(100vh*var(--swup-overlay-y-scale));--swup-overlay-transform-x-value:calc(100%*var(--swup-overlay-x-scale));--swup-overlay-transform-y-value:calc(100%*var(--swup-overlay-y-scale));--swup-overlay-top-value:calc((1 - var(--swup-overlay-y-scale))*0.5*100vh);--swup-overlay-left-value:calc((1 - var(--swup-overlay-x-scale))*0.5*100vw);--swup-overlay-bottom-value:auto;--swup-overlay-right-value:auto;--swup-overlay-skew-value:calc(var(--swup-overlay-theme-skew)*var(--swup-overlay-skew-direction));background-color:var(--swup-overlay-theme-color);bottom:var(--swup-overlay-bottom-value);height:var(--swup-overlay-height-value);left:var(--swup-overlay-left-value);opacity:0;pointer-events:none;position:fixed;right:var(--swup-overlay-right-value);top:var(--swup-overlay-top-value);width:var(--swup-overlay-width-value);z-index:9999}html.is-changing .swup-transition-overlay{opacity:1;transition:transform var(--swup-overlay-theme-duration) var(--swup-overlay-theme-delay)}.swup-transition-overlay[data-direction=to-left],.swup-transition-overlay[data-direction=to-right]{--swup-overlay-x-scale:var(--swup-overlay-theme-scale)}.swup-transition-overlay[data-direction=to-right]{transform:translate3d(calc(var(--swup-overlay-transform-x-value)*-1),0,0) skewX(var(--swup-overlay-skew-value))}html.is-animating .swup-transition-overlay[data-direction=to-right]{transform:translateZ(0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-left],html.is-rendering .swup-transition-overlay[data-direction=to-right]{transform:translate3d(var(--swup-overlay-transform-x-value),0,0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-left]{--swup-overlay-skew-direction:-1}html.is-animating .swup-transition-overlay[data-direction=to-left]{transform:translateZ(0) skewX(var(--swup-overlay-skew-value))}html.is-rendering .swup-transition-overlay[data-direction=to-left]{transform:translate3d(calc(var(--swup-overlay-transform-x-value)*-1),0,0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-bottom],.swup-transition-overlay[data-direction=to-top]{--swup-overlay-y-scale:var(--swup-overlay-theme-scale)}.swup-transition-overlay[data-direction=to-bottom]{transform:translate3d(0,calc(var(--swup-overlay-transform-y-value)*-1),0) skewY(var(--swup-overlay-skew-value))}html.is-animating .swup-transition-overlay[data-direction=to-bottom]{transform:translateZ(0) skewY(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-top],html.is-rendering .swup-transition-overlay[data-direction=to-bottom]{transform:translate3d(0,var(--swup-overlay-transform-y-value),0) skewY(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-top]{--swup-overlay-skew-direction:-1}html.is-animating .swup-transition-overlay[data-direction=to-top]{transform:translateZ(0) skewY(var(--swup-overlay-skew-value))}html.is-rendering .swup-transition-overlay[data-direction=to-top]{transform:translate3d(0,calc(var(--swup-overlay-transform-y-value)*-1),0) skewY(var(--swup-overlay-skew-value))}"),this.applyHTML(this.createOverlay())}createOverlay(){const{direction:t}=this.options;return`\n\t\t\t<div\n\t\t\t\tclass="swup-transition-overlay"\n\t\t\t\tdata-direction="${t}"\n\t\t\t\tstyle="--swup-overlay-theme-color:${void 0!==this.options.color?this.options.color:"inherit"};--swup-overlay-theme-duration:${void 0!==this.options.duration?`${this.options.duration}ms`:"inherit"};"\n\t\t\t></div>\n\t\t`}};
//# sourceMappingURL=index.cjs.map
