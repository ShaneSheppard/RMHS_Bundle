((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).Swup=t()})(this,function(){let n=new WeakMap;function d(e,t,r,o){var i;if(e||n.has(t))return i=n.get(t)??new WeakMap,n.set(t,i),t=i.get(r)??new Set,i.set(r,t),i=t.has(o),e?t.add(o):t.delete(o),i&&e}function l(e,t){void 0===t&&(t={}),e=(e=void 0===e?null:e)||h({hash:!0}),t={...history.state||{},url:e,random:Math.random(),source:"swup",...t},history.replaceState(t,"",e)}let c=(e,t)=>String(e).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",h=function(e){e=(void 0===e?{}:e).hash;return location.pathname+location.search+(e?location.hash:"")},t=(e,t,r,o)=>{let i=new AbortController;return((e,o,i,t)=>{var{signal:r,base:n=document}=t;if(r?.aborted)return;let{once:s,...a}=t,l=n instanceof Document?n.documentElement:n,c=Boolean("object"==typeof t?t.capture:t),h=t=>{var r=((e,t)=>{let r=e.target;if((r=r instanceof Text?r.parentElement:r)instanceof Element&&e.currentTarget instanceof Element){t=r.closest(t);if(t&&e.currentTarget.contains(t))return t}})(t,e);if(r){let e=Object.assign(t,{delegateTarget:r});i.call(l,e),s&&(l.removeEventListener(o,h,a),d(!1,l,i,u))}},u=JSON.stringify({selector:e,type:o,capture:c});d(!0,l,i,u)||l.addEventListener(o,h,a),r?.addEventListener("abort",()=>{d(!1,l,i,u)})})(e,t,r,o={...o,signal:i.signal}),{destroy:()=>i.abort()}};class p extends URL{constructor(e,t){void 0===t&&(t=document.baseURI),super(e.toString(),t),Object.setPrototypeOf(this,p.prototype)}get url(){return this.pathname+this.search}static fromElement(e){e=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new p(e)}static fromUrl(e){return new p(e)}}function r(c,h){void 0===h&&(h={});try{let i=this;function u(e){let{status:r,url:o}=s;return Promise.resolve(s.text()).then(function(e){if(500===r)throw i.hooks.call("fetch:error",n,{status:r,response:s,url:o}),new m("Server error: "+o,{status:r,url:o});var t;if(e)return t=p.fromUrl(o).url,e={url:t,html:e},!n.cache.write||h.method&&"GET"!==h.method||c!==t||i.cache.set(e.url,e),e;throw new m("Empty response: "+o,{status:r,url:o})})}c=p.fromUrl(c).url;let{visit:n=i.visit}=h,e={...i.options.requestHeaders,...h.headers},t=h.timeout??i.options.timeout,r=new AbortController,o=r.signal;h={...h,headers:e,signal:o};let s,a=!1,l=null;t&&0<t&&(l=setTimeout(()=>{a=!0,r.abort("timeout")},t));var d=(t=>{try{var e=Promise.resolve(i.hooks.call("fetch:request",n,{url:c,options:h},(e,t)=>{var{url:t,options:r}=t;return fetch(t,r)})).then(function(e){s=e,l&&clearTimeout(l)})}catch(e){return t(e)}return e&&e.then?e.then(void 0,t):e})(function(e){if(a)throw i.hooks.call("fetch:timeout",n,{url:c}),new m("Request timed out: "+c,{url:c,timedOut:a});if("AbortError"===e?.name||o.aborted)throw new m("Request aborted: "+c,{url:c,aborted:!0});throw e});return Promise.resolve(d&&d.then?d.then(u):u())}catch(e){return Promise.reject(e)}}class m extends Error{constructor(e,t){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=t.url,this.status=t.status,this.aborted=t.aborted||!1,this.timedOut=t.timedOut||!1}}class o{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){let r=new Map;return this.pages.forEach((e,t)=>{r.set(t,{...e})}),r}has(e){return this.pages.has(this.resolve(e))}get(e){e=this.pages.get(this.resolve(e));return e&&{...e}}set(e,t){e=this.resolve(e),t={...t,url:e},this.pages.set(e,t),this.swup.hooks.callSync("cache:set",void 0,{page:t})}update(e,t){e=this.resolve(e);t={...this.get(e),...t,url:e};this.pages.set(e,t)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(r){this.pages.forEach((e,t)=>{r(t,e)&&this.delete(t)})}resolve(e){e=p.fromUrl(e).url;return this.swup.resolveUrl(e)}}function s(e,t){return(t=void 0===t?document:t).querySelector(e)}function a(e,t){return void 0===t&&(t=document),Array.from(t.querySelectorAll(e))}let i=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})});function u(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}let v=e=>window.CSS&&window.CSS.escape?CSS.escape(e):e,f=e=>1e3*Number(e.slice(0,-1).replace(",","."));class g{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){var e=this.swup.visit.animation.scope;return"containers"===e?this.swup.visit.containers:"html"===e?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?a(this.selector):[]}add(){this.targets.forEach(e=>e.classList.add(...[].slice.call(arguments)))}remove(){this.targets.forEach(e=>e.classList.remove(...[].slice.call(arguments)))}clear(){this.targets.forEach(e=>{var t=e.className.split(" ").filter(e=>this.isSwupClass(e));e.classList.remove(...t)})}isSwupClass(t){return this.swupClasses.some(e=>t.startsWith(e))}}class w{constructor(e,t){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0;var{to:t,from:r=e.currentPageUrl,hash:o,el:i,event:n}=t;this.id=Math.random(),this.state=1,this.from={url:r},this.to={url:t,hash:o},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:i,event:n},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return 7<=this.state}}function y(e){return new w(this,e)}let b="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function S(e,t,r){if(!e.s){if(r instanceof P){if(!r.s)return void(r.o=S.bind(null,e,t));1&t&&(t=r.s),r=r.v}r&&r.then?r.then(S.bind(null,e,t),S.bind(null,e,2)):(e.s=t,e.v=r,(t=e.o)&&t(e))}}let P=(()=>{function e(){}return e.prototype.then=function(r,o){let i=new e,t=this.s;if(t){let e=1&t?r:o;if(e){try{S(i,1,e(this.v))}catch(e){S(i,2,e)}return i}return this}return this.o=function(e){try{var t=e.v;1&e.s?S(i,1,r?r(t):t):o?S(i,1,o(t)):S(i,2,t)}catch(e){S(i,2,e)}},i},e})();function k(e){return e instanceof P&&1&e.s}class T{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){var t=this.registry.get(e);if(t)return t;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,t,r){void 0===r&&(r={});var o,i=this.get(e);return i?(o=i.size+1,r={...r,id:o,hook:e,handler:t},i.set(t,r),()=>this.off(e,t)):(console.warn(`Hook '${e}' not found.`),()=>{})}before(e,t,r){return this.on(e,t,{...r=void 0===r?{}:r,before:!0})}replace(e,t,r){return this.on(e,t,{...r=void 0===r?{}:r,replace:!0})}once(e,t,r){return this.on(e,t,{...r=void 0===r?{}:r,once:!0})}off(e,t){var r=this.get(e);r&&t?r.delete(t)||console.warn(`Handler for hook '${e}' not found.`):r&&r.clear()}call(a,l,c,h){try{let r=this,[o,i,e]=r.parseCallArgs(a,l,c,h),{before:t,handler:n,after:s}=r.getHandlers(a,e);return Promise.resolve(r.run(t,o,i)).then(function(){return Promise.resolve(r.run(n,o,i)).then(function(e){let[t]=e;return Promise.resolve(r.run(s,o,i)).then(function(){return r.dispatchDomEvent(a,o,i),t})})})}catch(a){return Promise.reject(a)}}callSync(e,t,r,o){var[t,r,o]=this.parseCallArgs(e,t,r,o),{before:o,handler:i,after:n}=this.getHandlers(e,o),[o]=(this.runSync(o,t,r),this.runSync(i,t,r));return this.runSync(n,t,r),this.dispatchDomEvent(e,t,r),o}parseCallArgs(e,t,r,o){return t instanceof w||"object"!=typeof t&&"function"!=typeof r?[t,r,o]:[void 0,t,r]}run(t,l,c){try{let s=this,a=[],e=((e,r)=>{if("function"==typeof e[b]){var o,i,n,s=e[b]();if(function e(t){try{for(;!(o=s.next()).done;)if((t=r(o.value))&&t.then){if(!k(t))return void t.then(e,n=n||S.bind(null,i=new P,2));t=t.v}i?S(i,1,t):i=t}catch(e){S(i=i||new P,2,e)}}(),s.return){var t=function(e){try{o.done||s.return()}catch(e){}return e};if(i&&i.then)return i.then(t,function(e){throw t(e)});t()}return i}if(!("length"in e))throw new TypeError("Object is not iterable");for(var a,l,c,h,u=[],d=0;d<e.length;d++)u.push(e[d]);return a=u,h=-1,function e(t){try{for(;++h<a.length;)if((t=r(u[h]))&&t.then){if(!k(t))return void t.then(e,c=c||S.bind(null,l=new P,2));t=t.v}l?S(l,1,t):l=t}catch(e){S(l=l||new P,2,e)}}(),l})(t,function(e){var o,i,{hook:e,handler:t,defaultHandler:r,once:n}=e;if(!l?.done)return n&&s.off(e,t),Promise.resolve((o=t,void 0===(i=[l||s.swup.visit,c,r])&&(i=[]),new Promise((e,t)=>{var r=o(...i);u(r)?r.then(e,t):e(r)}))).then(function(e){a.push(e)})});return Promise.resolve(e&&e.then?e.then(function(){return a}):a)}catch(t){return Promise.reject(t)}}runSync(e,t,r){var o,i,n,s,a=[];for({hook:o,handler:i,defaultHandler:n,once:s}of e)if(!t?.done){s&&this.off(o,i);let e=i(t||this.swup.visit,r,n);a.push(e),u(e)&&console.warn(`Promise returned from handler for synchronous hook '${o}'.Swup will not wait for it to resolve.`)}return a}getHandlers(t,n){let e=this.get(t);if(!e)return{found:!1,before:[],handler:[],after:[],replaced:!1};let r=Array.from(e.values()),o=this.sortRegistrations,i=r.filter(e=>{var{before:e,replace:t}=e;return e&&!t}).sort(o),s=r.filter(e=>{e=e.replace;return e}).filter(e=>!0).sort(o),a=r.filter(e=>{var{before:e,replace:t}=e;return!e&&!t}).sort(o),l=0<s.length,c=[];if(n&&(c=[{id:0,hook:t,handler:n}],l)){let e=s.length-1,i=r=>{let o=s[r-1];return o?(e,t)=>o.handler(e,t,i(r-1)):n};c=[{id:0,hook:t,handler:s[e].handler,defaultHandler:i(e)}]}return{found:!0,before:i,handler:c,after:a,replaced:l}}sortRegistrations(e,t){return(e.priority??0)-(t.priority??0)||e.id-t.id||0}dispatchDomEvent(e,t,r){t?.done||(r={hook:e,args:r,visit:t||this.swup.visit},document.dispatchEvent(new CustomEvent("swup:any",{detail:r,bubbles:!0})),document.dispatchEvent(new CustomEvent("swup:"+e,{detail:r,bubbles:!0})))}}function E(e){var{elements:t,selector:r}=e;try{if(!1===r&&!t)return Promise.resolve();let e=[];if(t)e=Array.from(t);else if(r&&!(e=a(r,document.body)).length)return console.warn(`[swup] No elements found matching animationSelector \`${r}\``),Promise.resolve();var o=e.map(e=>{{var c=e;let{type:s,timeout:a,propCount:l}=(()=>{var e=U(o=window.getComputedStyle(c),C+"Delay"),t=U(o,C+"Duration"),e=x(e,t),r=U(o,_+"Delay"),o=U(o,_+"Duration"),r=x(r,o);let i=null,n=0,s=0;return C,_,n=Math.max(e,r),i=0<n?r<e?C:_:null,s=i?(i===C?t:o).length:0,{type:i,timeout:n,propCount:s}})();return!(!s||!a)&&new Promise(e=>{let t=s+"end",r=performance.now(),o=0,i=()=>{c.removeEventListener(t,n),e()},n=e=>{if(e.target===c){if(t=e,![C+"end",_+"end"].includes(t.type))throw new Error("Not a transition or animation event.");(performance.now()-r)/1e3<e.elapsedTime||++o>=l&&i()}var t};setTimeout(()=>{o<l&&i()},a+1),c.addEventListener(t,n)})}});return 0<o.filter(Boolean).length?Promise.resolve(Promise.all(o)).then(function(){}):(r&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${r}\``),Promise.resolve())}catch(e){return Promise.reject(e)}}let A=e=>{if(!(e=e&&"#"===e.charAt(0)?e.substring(1):e))return null;var t=decodeURIComponent(e);let r=document.getElementById(e)||document.getElementById(t)||s(`a[name='${v(e)}']`)||s(`a[name='${v(t)}']`);return r=r||"top"!==e?r:document.body},C="transition",_="animation";function U(e,t){return(e[t]||"").split(", ")}function x(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((e,t)=>f(e)+f(r[t])))}function N(s,a){void 0===a&&(a={});try{let i,n=this;function e(e){if(i)return e;n.navigating=!0;function t(e){e&&!e?.aborted?(s.state=9,console.error(e),n.options.skipPopStateHandling=()=>(window.location.href=s.to.url+s.to.hash,!0),window.history.go(-1)):s.state=8}var e=(n.visit=s).trigger.el,r=(a.referrer=a.referrer||n.currentPageUrl,!1===a.animate&&(s.animation.animate=!1),s.animation.animate||n.classes.clear(),a.history||e?.getAttribute("data-swup-history")||void 0),r=(r&&["push","replace"].includes(r)&&(s.history.action=r),a.animation||e?.getAttribute("data-swup-animation")||void 0);r&&(s.animation.name=r),"object"==typeof a.cache?(s.cache.read=a.cache.read??s.cache.read,s.cache.write=a.cache.write??s.cache.write):void 0!==a.cache&&(s.cache={read:!!a.cache,write:!!a.cache}),delete a.cache;try{var o=Promise.resolve(n.hooks.call("visit:start",s,void 0)).then(function(){function e(){if(!s.done)return Promise.resolve(n.hooks.call("visit:transition",s,void 0,function(){try{let r;function e(e){return r?e:(s.advance(4),Promise.resolve(n.animatePageOut(s)).then(function(){function e(){return Promise.resolve(n.animatePageIn(s)).then(function(){})}var t=(()=>{if(s.animation.native&&document.startViewTransition)return Promise.resolve(document.startViewTransition(function(){try{let t=n.renderPage;return Promise.resolve(o).then(function(e){return Promise.resolve(t.call(n,s,e))})}catch(e){return Promise.reject(e)}}).finished).then(function(){});{let t=n.renderPage;return Promise.resolve(o).then(function(e){return Promise.resolve(t.call(n,s,e)).then(function(){})})}})();return t&&t.then?t.then(e):e()}))}var t=(()=>{if(!s.animation.animate)return Promise.resolve(n.hooks.call("animation:skip",void 0)).then(function(){let t=n.renderPage;return Promise.resolve(o).then(function(e){return Promise.resolve(t.call(n,s,e)).then(function(){r=1})})})})();return Promise.resolve(t&&t.then?t.then(e):e(t))}catch(e){return Promise.reject(e)}})).then(function(){if(!s.done)return Promise.resolve(n.hooks.call("visit:end",s,void 0,()=>n.classes.clear())).then(function(){s.state=7,n.navigating=!1,n.onVisitEnd&&(n.onVisitEnd(),n.onVisitEnd=void 0)})})}s.state=3;let o=n.hooks.call("page:load",s,{options:a},function(e,r){try{function o(e){return r.page=e,r.cache=!!t,r.page}let t;return e.cache.read&&(t=n.cache.get(e.to.url)),Promise.resolve(t?o(t):Promise.resolve(n.fetchPage(e.to.url,r.options)).then(o))}catch(e){return Promise.reject(e)}});if(o.then(e=>{e=e.html;s.advance(5),s.to.html=e}),!s.history.popstate){let e=s.to.url+s.to.hash;if("replace"===s.history.action||s.to.url===n.currentPageUrl)l(e);else{n.currentHistoryIndex++;{var t=e;var r={index:n.currentHistoryIndex};void 0===r&&(r={}),r={url:t=t||h({hash:!0}),random:Math.random(),source:"swup",...r},history.pushState(r,"",t)}}}n.currentPageUrl=h(),s.history.popstate&&n.classes.add("is-popstate"),s.animation.name&&n.classes.add("to-"+c(s.animation.name));r=(()=>{if(s.animation.wait)return Promise.resolve(o).then(function(){})})();return r&&r.then?r.then(e):e()})}catch(e){return t(e)}return o&&o.then?o.then(void 0,t):o}var t=(()=>{if(n.navigating)return 6<=n.visit.state?(s.state=2,n.onVisitEnd=()=>n.performNavigation(s,a),void(i=1)):Promise.resolve(n.hooks.call("visit:abort",n.visit,void 0)).then(function(){n.visit.state=8})})();return Promise.resolve(t&&t.then?t.then(e):e(t))}catch(e){return Promise.reject(e)}}function O(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),"string"!=typeof e)throw new Error("swup.navigate() requires a URL parameter");var o;this.shouldIgnoreVisit(e,{el:r.el,event:r.event})?window.location.href=e:({url:e,hash:o}=p.fromUrl(e),r=this.createVisit({...r,to:e,hash:o}),this.performNavigation(r,t))}function j(e){try{let r=this;return Promise.resolve(r.hooks.call("animation:out:start",e,void 0,()=>{r.classes.add("is-changing","is-animating","is-leaving")})).then(function(){return Promise.resolve(r.hooks.call("animation:out:await",e,{skip:!1},(e,t)=>{t=t.skip;if(!t)return r.awaitAnimations({selector:e.animation.selector})})).then(function(){return Promise.resolve(r.hooks.call("animation:out:end",e,void 0)).then(function(){})})})}catch(e){return Promise.reject(e)}}function q(e,t){e=e.html,t=(void 0===t?this.options:t).containers;let o=(new DOMParser).parseFromString(e,"text/html"),r=o.querySelector("title")?.innerText||"";document.title=r;var e=a('[data-swup-persist]:not([data-swup-persist=""])'),i=t.map(e=>{var t=document.querySelector(e),r=o.querySelector(e);return t&&r?(t.replaceWith(r),!0):(t||console.warn("[swup] Container missing in current document: "+e),r||console.warn("[swup] Container missing in incoming document: "+e),!1)}).filter(Boolean);return e.forEach(e=>{var t=e.getAttribute("data-swup-persist"),t=s(`[data-swup-persist="${t}"]`);t&&t!==e&&t.replaceWith(e)}),i.length===t.length}function L(e){var t={behavior:"auto"},{target:r,reset:o}=e.scroll,r=r??e.to.hash;let i=!1;return r&&(i=this.hooks.callSync("scroll:anchor",e,{hash:r,options:t},(e,t)=>{var{hash:t,options:r}=t,t=this.getAnchorElement(t);return t&&t.scrollIntoView(r),!!t})),i=o&&!i?this.hooks.callSync("scroll:top",e,{options:t},(e,t)=>{t=t.options;return window.scrollTo({top:0,left:0,...t}),!0}):i}function R(t){try{let r=this;if(t.done)return Promise.resolve();let e=r.hooks.call("animation:in:await",t,{skip:!1},(e,t)=>{t=t.skip;if(!t)return r.awaitAnimations({selector:e.animation.selector})});return Promise.resolve(i()).then(function(){return Promise.resolve(r.hooks.call("animation:in:start",t,void 0,()=>{r.classes.remove("is-animating")})).then(function(){return Promise.resolve(e).then(function(){return Promise.resolve(r.hooks.call("animation:in:end",t,void 0)).then(function(){})})})})}catch(t){return Promise.reject(t)}}function H(e,t){try{let r=this;if(e.done)return Promise.resolve();e.advance(6);var o=t.url;return r.classes.remove("is-leaving"),r.isSameResolvedUrl(h(),o)||(l(o),r.currentPageUrl=h(),e.to.url=r.currentPageUrl),e.animation.animate&&r.classes.add("is-rendering"),Promise.resolve(r.hooks.call("content:replace",e,{page:t},(e,t)=>{t=t.page;if(!r.replaceContent(t,{containers:e.containers}))throw new Error("[swup] Container mismatch, aborting");e.animation.animate&&(r.classes.add("is-changing","is-animating","is-rendering"),e.animation.name)&&r.classes.add("to-"+c(e.animation.name))})).then(function(){return Promise.resolve(r.hooks.call("content:scroll",e,void 0,()=>r.scrollToContent(e))).then(function(){return Promise.resolve(r.hooks.call("page:view",e,{url:r.currentPageUrl,title:document.title})).then(function(){})})})}catch(e){return Promise.reject(e)}}function M(e){if(Boolean(e?.isSwupPlugin)){if(e.swup=this,!e._checkRequirements||e._checkRequirements())return e._beforeMount&&e._beforeMount(),e.mount(),this.plugins.push(e),this.plugins}else console.error("Not a swup plugin instance",e)}function Y(e){let t=this.findPlugin(e);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(e=>e!==t),this.plugins;console.error("No such plugin",t)}function I(t){return this.plugins.find(e=>e===t||e.name===t||e.name==="Swup"+String(t))}function V(e){var t;return"function"!=typeof this.options.resolveUrl?(console.warn("[swup] options.resolveUrl expects a callback function."),e):(t=this.options.resolveUrl(e))&&"string"==typeof t?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),e):t:(console.warn("[swup] options.resolveUrl needs to return a url"),e)}function B(e,t){return this.resolveUrl(e)===this.resolveUrl(t)}let $={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],ignoreVisit:function(e,t){t=(void 0===t?{}:t).el;return!!t?.closest("[data-no-swup]")},linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:e=>e,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:e=>"swup"!==e.state?.source,timeout:0};return class{constructor(e){void 0===e&&(e={}),this.version="4.5.0",this.options=void 0,this.defaults=$,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.currentPageUrl=h(),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=M,this.unuse=Y,this.findPlugin=I,this.log=()=>{},this.navigate=O,this.performNavigation=N,this.createVisit=y,this.delegateEvent=t,this.fetchPage=r,this.awaitAnimations=E,this.renderPage=H,this.replaceContent=q,this.animatePageIn=R,this.animatePageOut=j,this.scrollToContent=L,this.getAnchorElement=A,this.getCurrentUrl=h,this.resolveUrl=V,this.isSameResolvedUrl=B,this.options={...this.defaults,...e},this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new o(this),this.classes=new g(this),this.hooks=new T(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=history.state?.index??1,this.checkRequirements()&&this.enable()}checkRequirements(){return"undefined"!=typeof Promise||(console.warn("Promise is not supported"),!1)}enable(){try{let t=this,e=t.options.linkSelector;return t.clickDelegate=t.delegateEvent(e,"click",t.handleLinkClick),window.addEventListener("popstate",t.handlePopState),t.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),t.options.native=t.options.native&&!!document.startViewTransition,t.options.plugins.forEach(e=>t.use(e)),"swup"!==history.state?.source&&l(null,{index:t.currentHistoryIndex}),Promise.resolve(i()).then(function(){return Promise.resolve(t.hooks.call("enable",void 0,void 0,()=>{var e=document.documentElement;e.classList.add("swup-enabled"),e.classList.toggle("swup-native",t.options.native)})).then(function(){})})}catch(e){return Promise.reject(e)}}destroy(){try{let t=this;return t.clickDelegate.destroy(),window.removeEventListener("popstate",t.handlePopState),t.cache.clear(),t.options.plugins.forEach(e=>t.unuse(e)),Promise.resolve(t.hooks.call("disable",void 0,void 0,()=>{var e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")})).then(function(){t.hooks.clear()})}catch(e){return Promise.reject(e)}}shouldIgnoreVisit(e,t){var{el:t,event:r}=void 0===t?{}:t,{origin:e,url:o,hash:i}=p.fromUrl(e);return e!==window.location.origin||!(!t||!this.triggerWillOpenNewWindow(t))||!!this.options.ignoreVisit(o+i,{el:t,event:r})}handleLinkClick(r){let e=r.delegateTarget,{href:o,url:i,hash:n}=p.fromElement(e);if(!this.shouldIgnoreVisit(o,{el:e,event:r}))if(this.navigating&&i===this.visit.to.url)r.preventDefault();else{let t=this.createVisit({to:i,hash:n,el:e,event:r});r.metaKey||r.ctrlKey||r.shiftKey||r.altKey?this.hooks.callSync("link:newtab",t,{href:o}):0===r.button&&this.hooks.callSync("link:click",t,{el:e,event:r},()=>{var e=t.from.url??"";r.preventDefault(),i&&i!==e?this.isSameResolvedUrl(i,e)||this.performNavigation(t):n?this.hooks.callSync("link:anchor",t,{hash:n},()=>{l(i+n),this.scrollToContent(t)}):this.hooks.callSync("link:self",t,void 0,()=>{"navigate"===this.options.linkToSelf?this.performNavigation(t):(l(i),this.scrollToContent(t))})})}}handlePopState(o){var i=o.state?.url??location.href;if(!this.options.skipPopStateHandling(o)&&!this.isSameResolvedUrl(h(),this.currentPageUrl)){let{url:e,hash:t}=p.fromUrl(i),r=this.createVisit({to:e,hash:t,event:o});r.history.popstate=!0;i=o.state?.index??0;i&&i!==this.currentHistoryIndex&&(r.history.direction=0<i-this.currentHistoryIndex?"forwards":"backwards",this.currentHistoryIndex=i),r.animation.animate=!1,r.scroll.reset=!1,r.scroll.target=!1,this.options.animateHistoryBrowsing&&(r.animation.animate=!0,r.scroll.reset=!0),this.hooks.callSync("history:popstate",r,{event:o},()=>{this.performNavigation(r)})}}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}}),((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).SwupHeadPlugin=t()})(this,function(){function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}let s=e=>String(e).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class e{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"==typeof this.requires&&Object.entries(this.requires).forEach(([t,r])=>{if(o=t,e=r=Array.isArray(r)?r:[r],!(i=(r=>{var e;if("swup"===o)return null!=(e=r.version)?e:"";{let e,t=r.findPlugin(o);return null!=(e=null==t?void 0:t.version)?e:""}})(i=this.swup))||(n=i,!e.every(e=>{var t,[,e,r]=e.match(/^([\D]+)?(.*)$/)||[];return r=r,t=s(t=n),r=s(r),t=t.localeCompare(r,void 0,{numeric:!0}),((r={"":e=>0===e,">":e=>0<e,">=":e=>0<=e,"<":e=>e<0,"<=":e=>e<=0})[e||">="]||r[""])(t)}))){let e=t+" "+r.join(", ");throw new Error(`Plugin version mismatch: ${this.name} requires `+e)}var o,e,i,n}),!0}on(e,t,r={}){t=!(o=t).name.startsWith("bound ")||o.hasOwnProperty("prototype")?t.bind(this):t;var o=this.swup.hooks.on(e,t,r);return this.handlersToUnregister.push(o),o}once(e,t,r={}){return this.on(e,t,o({},r,{once:!0}))}before(e,t,r={}){return this.on(e,t,o({},r,{before:!0}))}replace(e,t,r={}){return this.on(e,t,o({},r,{replace:!0}))}off(e,t){return this.swup.hooks.off(e,t)}}function c(e){return"title"!==e.localName&&!e.matches("[data-swup-theme]")}function h(e,t){return e.outerHTML===t.outerHTML}function u(e){return e.matches("link[rel=stylesheet][href]")}return class extends e{constructor(e){void 0===e&&(e={}),super();let l=this;this.name="SwupHeadPlugin",this.requires={swup:">=4"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,timeout:3e3},this.options=void 0,this.updateHead=function(e,t){var o,i,{html:n}=t.page;try{let e=(new DOMParser).parseFromString(n,"text/html"),{removed:t,added:r}=((r,e,t)=>{let o=t.shouldPersist;var i,n,t=Array.from(r.children),e=Array.from(e.children),s=(i=t,e.reduce((e,t,r)=>(i.some(e=>h(t,e))||e.push({el:t,index:r}),e),[]));return n=e,(e=t.reduce((e,t)=>(n.some(e=>h(t,e))||e.push({el:t}),e),[])).reverse().filter(e=>{e=e.el;return c(e)}).filter(e=>{e=e.el;return!o(e)}).forEach(e=>{e=e.el;return r.removeChild(e)}),s.filter(e=>{e=e.el;return c(e)}).forEach(e=>{var{el:e,index:t=0}=e;r.insertBefore(e,r.children[t+1]||null)}),{removed:e.map(e=>{e=e.el;return e}),added:s.map(e=>{e=e.el;return e})}})(document.head,e.head,{shouldPersist:e=>l.isPersistentTag(e)});l.swup.log(`Removed ${t.length} / added ${r.length} tags in head`);var s=(o=document.documentElement).lang!==(i=e.documentElement).lang?(o.lang=i.lang,o.lang):null,a=(s&&l.swup.log("Updated lang attribute: "+s),(()=>{if(l.options.awaitAssets){void 0===(i=l.options.timeout)&&(i=0);let e=r.filter(u).map(e=>{{var o=e,t=i;void 0===t&&(t=0);let r=e=>{var t;t=o.href,Array.from(document.styleSheets).map(e=>{e=e.href;return e}).includes(t)?e():setTimeout(()=>r(e),10)};return new Promise(e=>{r(e),0<t&&setTimeout(e,t)})}}),t=(()=>{if(e.length)return l.swup.log(`Waiting for ${e.length} assets to load`),Promise.resolve(Promise.all(e)).then(function(){})})();if(t&&t.then)return t.then(function(){})}var i})());return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},this.options={...this.defaults,...e},this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(e){var t=this.options.persistTags;return"function"==typeof t?t(e):"string"==typeof t?e.matches(t):Boolean(t)}}}),((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).SwupMorphPlugin=t()})(this,function(){function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}let s=e=>String(e).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class e{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"==typeof this.requires&&Object.entries(this.requires).forEach(([t,r])=>{if(o=t,e=r=Array.isArray(r)?r:[r],!(i=(r=>{var e;if("swup"===o)return null!=(e=r.version)?e:"";{let e,t=r.findPlugin(o);return null!=(e=null==t?void 0:t.version)?e:""}})(i=this.swup))||(n=i,!e.every(e=>{var t,[,e,r]=e.match(/^([\D]+)?(.*)$/)||[];return r=r,t=s(t=n),r=s(r),t=t.localeCompare(r,void 0,{numeric:!0}),((r={"":e=>0===e,">":e=>0<e,">=":e=>0<=e,"<":e=>e<0,"<=":e=>e<=0})[e||">="]||r[""])(t)}))){let e=t+" "+r.join(", ");throw new Error(`Plugin version mismatch: ${this.name} requires `+e)}var o,e,i,n}),!0}on(e,t,r={}){t=!(o=t).name.startsWith("bound ")||o.hasOwnProperty("prototype")?t.bind(this):t;var o=this.swup.hooks.on(e,t,r);return this.handlersToUnregister.push(o),o}once(e,t,r={}){return this.on(e,t,o({},r,{once:!0}))}before(e,t,r={}){return this.on(e,t,o({},r,{before:!0}))}replace(e,t,r={}){return this.on(e,t,o({},r,{replace:!0}))}off(e,t){return this.swup.hooks.off(e,t)}}var g,B="undefined"==typeof document?void 0:document,w=!!B&&"content"in B.createElement("template"),y=!!B&&B.createRange&&"createContextualFragment"in B.createRange();function $(e,t){var r,o,e=e.nodeName,t=t.nodeName;return e===t||(r=e.charCodeAt(0),o=t.charCodeAt(0),r<=90&&97<=o?e===t.toUpperCase():o<=90&&97<=r&&t===e.toUpperCase())}function i(e,t,r){e[r]!==t[r]&&(e[r]=t[r],e[r]?e.setAttribute(r,""):e.removeAttribute(r))}var D={OPTION:function(e,t){var r,o=e.parentNode;o&&"SELECT"===(r="OPTGROUP"===(r=o.nodeName.toUpperCase())?(o=o.parentNode)&&o.nodeName.toUpperCase():r)&&!o.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),o.selectedIndex=-1),i(e,t,"selected")},INPUT:function(e,t){i(e,t,"checked"),i(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var r,t=t.value,o=(e.value!==t&&(e.value=t),e.firstChild);o&&(r=o.nodeValue)!=t&&(t||r!=e.placeholder)&&(o.nodeValue=t)},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var r,o,i=-1,n=0,s=e.firstChild;s;)if("OPTGROUP"===(o=s.nodeName&&s.nodeName.toUpperCase()))s=(r=s).firstChild;else{if("OPTION"===o){if(s.hasAttribute("selected")){i=n;break}n++}!(s=s.nextSibling)&&r&&(s=r.nextSibling,r=null)}e.selectedIndex=i}}};function b(){}function S(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function n(e,t,r){var o,i;r=r||{},"string"==typeof t?"#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName?(n=t,(t=B.createElement("html")).innerHTML=n):(n=(n=t).trim(),t=(w?(o=n,(i=B.createElement("template")).innerHTML=o,i.content):y?(o=n,g||(g=B.createRange()).selectNode(B.body),g.createContextualFragment(o)):(i=n,(n=B.createElement("body")).innerHTML=i,n)).childNodes[0]):11===t.nodeType&&(t=t.firstElementChild);var n,x=r.getNodeKey||S,N=r.onBeforeNodeAdded||b,O=r.onNodeAdded||b,j=r.onBeforeElUpdated||b,q=r.onElUpdated||b,s=r.onBeforeNodeDiscarded||b,a=r.onNodeDiscarded||b,L=r.onBeforeElChildrenUpdated||b,R=r.skipFromChildren||b,H=r.addChild||function(e,t){return e.appendChild(t)},r=!0===r.childrenOnly,M=Object.create(null),l=[];function Y(e){l.push(e)}function I(e,t,r){!1!==s(e)&&(t&&t.removeChild(e),a(e),function e(t,r){if(1===t.nodeType)for(var o=t.firstChild;o;){var i=void 0;r&&(i=x(o))?Y(i):(a(o),o.firstChild&&e(o,r)),o=o.nextSibling}}(e,r))}function V(e,t,r){var o=x(t);if(o&&delete M[o],!r){if(!1===j(e,t))return;var i,n,s,a,l=e,c=t,h=c.attributes;if(11!==c.nodeType&&11!==l.nodeType){for(var u=h.length-1;0<=u;u--)n=(i=h[u]).name,a=i.value,(s=i.namespaceURI)?l.getAttributeNS(s,n=i.localName||n)!==a&&("xmlns"===i.prefix&&(n=i.name),l.setAttributeNS(s,n,a)):l.getAttribute(n)!==a&&l.setAttribute(n,a);for(var d=l.attributes,p=d.length-1;0<=p;p--)n=(i=d[p]).name,(s=i.namespaceURI)?c.hasAttributeNS(s,n=i.localName||n)||l.removeAttributeNS(s,n):c.hasAttribute(n)||l.removeAttribute(n)}if(q(e),!1===L(e,t))return}if("TEXTAREA"!==e.nodeName){var m,v,f,g,w,y=e,o=t,b=R(y),S=o.firstChild,P=y.firstChild;e:for(;S;){for(f=S.nextSibling,m=x(S);!b&&P;){if(v=P.nextSibling,S.isSameNode&&S.isSameNode(P)){S=f,P=v;continue e}var k=x(P),T=P.nodeType,E=void 0;if(T===S.nodeType&&(1===T?(m?m!==k&&(!(g=M[m])||v===g?E=!1:(y.insertBefore(g,P),k?Y(k):I(P,y,!0),P=g)):k&&(E=!1),(E=!1!==E&&$(P,S))&&V(P,S)):3!==T&&8!=T||(E=!0,P.nodeValue!==S.nodeValue&&(P.nodeValue=S.nodeValue))),E){S=f,P=v;continue e}k?Y(k):I(P,y,!0),P=v}m&&(g=M[m])&&$(g,S)?(b||H(y,g),V(g,S)):!1!==(w=N(S))&&((S=w?w:S).actualize&&(S=S.actualize(y.ownerDocument||B)),H(y,S),function e(t){O(t);for(var r=t.firstChild;r;){var o=r.nextSibling,i=x(r);(i=i&&M[i])&&$(r,i)?(r.parentNode.replaceChild(i,r),V(i,r)):e(r),r=o}}(S)),S=f,P=v}for(var A=y,C=P,_=void 0;C;){var U=C.nextSibling;(_=x(C))?Y(_):I(C,A,!0),C=U}r=D[y.nodeName];r&&r(y,o)}else D.TEXTAREA(e,t)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var r=t.firstChild;r;){var o=x(r);o&&(M[o]=r),e(r),r=r.nextSibling}}(e);var c,h,u=e,d=u.nodeType,p=t.nodeType;if(!r)if(1===d)1===p?$(e,t)||(a(e),u=((e,t)=>{for(var r=e.firstChild;r;){var o=r.nextSibling;t.appendChild(r),r=o}return t})(e,(c=t.nodeName,(h=t.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==h?B.createElementNS(h,c):B.createElement(c)))):u=t;else if(3===d||8===d){if(p===d)return u.nodeValue!==t.nodeValue&&(u.nodeValue=t.nodeValue),u;u=t}if(u===t)a(e);else{if(t.isSameNode&&t.isSameNode(u))return;if(V(u,t,r),l)for(var m=0,v=l.length;m<v;m++){var f=M[l[m]];f&&I(f,f.parentNode,!1)}}return!r&&u!==e&&e.parentNode&&(u.actualize&&(u=u.actualize(e.ownerDocument||B)),e.parentNode.replaceChild(u,e)),u}let a={INPUT:!0,TEXTAREA:!0,SELECT:!0},r={INPUT:!0,TEXTAREA:!0,OPTION:!0},l={"datetime-local":!0,"select-multiple":!0,"select-one":!0,color:!0,date:!0,datetime:!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,textarea:!0,time:!0,url:!0,week:!0},c=[function(e,t){return!(!r[e.tagName]&&e.isEqualNode(t))},function(r,e){let t=r.closest("[data-morph-persist]");if(!t&&a[(o=r).tagName]&&l[o.type]&&r===document.activeElement){let t={value:!0};return Array.from(e.attributes).forEach(e=>{t[e.name]||r.setAttribute(e.name,e.value)}),!1}var o;return!t},function(e,t){return e!==document.activeElement||!e.isContentEditable}];function h(e,t,r){void 0===r&&(r=[]);let i=[...c,...r];n(e,t,{onBeforeElUpdated:(e,t)=>{return r=e,o=t,!i.map(e=>"function"!=typeof e||e(r,o)).includes(!1);var r,o}})}return class extends e{constructor(e){void 0===e&&(e={}),super(),this.name="SwupMorphPlugin",this.requires={swup:">=4"},this.defaults={containers:[],updateCallbacks:[]},this.options=void 0,this.validateContainers=e=>{e.containers=e.containers.filter(e=>!this.options.containers.includes(e))},this.morphContainers=(e,t)=>{let r=t.page.html;var t=[document,(new DOMParser).parseFromString(r,"text/html")],o=this.getContainers(...t),i=this.options.updateCallbacks||[];for(let{selector:e,outgoing:t,incoming:r}of o)t&&r?h(t,r,i):this.options.containers.includes(e)&&console.warn("SwupMorphPlugin: No container found for selector: "+e)},this.options={...this.defaults,...e}}mount(){this.before("content:replace",this.validateContainers,{priority:1}),this.on("content:replace",this.morphContainers)}getContainers(t,r){return this.getContainerSelectors().map(e=>({selector:e,outgoing:t.querySelector(e),incoming:r.querySelector(e)}))}getContainerSelectors(){var e=this.options.containers,t=(t=document,Array.from(t.querySelectorAll('[data-swup-morph]:not([data-swup-morph=""])')).map(e=>`[data-swup-morph='${e.dataset.swupMorph}']`));return this.uniq([...e,...t])}uniq(e){return[...new Set(e)]}}}),((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).SwupScrollPlugin=t()})(this,function(){function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}let s=e=>String(e).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class e{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"==typeof this.requires&&Object.entries(this.requires).forEach(([t,r])=>{if(o=t,e=r=Array.isArray(r)?r:[r],!(i=(r=>{var e;if("swup"===o)return null!=(e=r.version)?e:"";{let e,t=r.findPlugin(o);return null!=(e=null==t?void 0:t.version)?e:""}})(i=this.swup))||(n=i,!e.every(e=>{var t,[,e,r]=e.match(/^([\D]+)?(.*)$/)||[];return r=r,t=s(t=n),r=s(r),t=t.localeCompare(r,void 0,{numeric:!0}),((r={"":e=>0===e,">":e=>0<e,">=":e=>0<=e,"<":e=>e<0,"<=":e=>e<=0})[e||">="]||r[""])(t)}))){let e=t+" "+r.join(", ");throw new Error(`Plugin version mismatch: ${this.name} requires `+e)}var o,e,i,n}),!0}on(e,t,r={}){t=!(o=t).name.startsWith("bound ")||o.hasOwnProperty("prototype")?t.bind(this):t;var o=this.swup.hooks.on(e,t,r);return this.handlersToUnregister.push(o),o}once(e,t,r={}){return this.on(e,t,o({},r,{once:!0}))}before(e,t,r={}){return this.on(e,t,o({},r,{before:!0}))}replace(e,t,r={}){return this.on(e,t,o({},r,{replace:!0}))}off(e,t){return this.swup.hooks.off(e,t)}}let i=(e,t=document)=>Array.from(t.querySelectorAll(e));function t(){return(t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}class n{constructor(e){this._raf=null,this._positionY=0,this._velocityY=0,this._targetPositionY=0,this._targetPositionYWithOffset=0,this._direction=0,this.scrollTo=e=>{if(e&&e.nodeType)this._targetPositionY=Math.round(e.getBoundingClientRect().top+window.pageYOffset);else{if(parseInt(this._targetPositionY)!==this._targetPositionY)return void console.error("Argument must be a number or an element.");this._targetPositionY=Math.round(e)}this._targetPositionY>document.documentElement.scrollHeight-window.innerHeight&&(this._targetPositionY=document.documentElement.scrollHeight-window.innerHeight),this._positionY=document.body.scrollTop||document.documentElement.scrollTop,this._direction=this._positionY>this._targetPositionY?-1:1,this._targetPositionYWithOffset=this._targetPositionY+this._direction,this._velocityY=0,this._positionY!==this._targetPositionY?(this.options.onStart(),this._animate()):this.options.onAlreadyAtPositions()},this._animate=()=>{this._update(),this._render(),1===this._direction&&this._targetPositionY>this._positionY||-1===this._direction&&this._targetPositionY<this._positionY?(this._raf=requestAnimationFrame(this._animate),this.options.onTick()):(this._positionY=this._targetPositionY,this._render(),this._raf=null,this.options.onTick(),this.options.onEnd())},this._update=()=>{var e=this._targetPositionYWithOffset-this._positionY;return this._velocityY+=e*this.options.acceleration,this._velocityY*=this.options.friction,this._positionY+=this._velocityY,Math.abs(e)},this._render=()=>{window.scrollTo(0,this._positionY)},this.options=t({},{onAlreadyAtPositions:()=>{},onCancel:()=>{},onEnd:()=>{},onStart:()=>{},onTick:()=>{},friction:.7,acceleration:.04},e),e&&e.friction&&(this.options.friction=1-e.friction),window.addEventListener("mousewheel",e=>{this._raf&&(this.options.onCancel(),cancelAnimationFrame(this._raf),this._raf=null)},{passive:!0})}}return class extends e{constructor(e){var t;void 0===e&&(e={}),super(),(t=this).name="SwupScrollPlugin",this.requires={swup:">=4.2.0"},this.scrl=void 0,this.defaults={doScrollingRightAway:!1,animateScroll:{betweenPages:!0,samePageWithHash:!0,samePage:!0},scrollFriction:.3,scrollAcceleration:.04,getAnchorElement:void 0,offset:0,scrollContainers:"[data-swup-scroll-container]",shouldResetScrollPosition:()=>!0,markScrollTarget:!1},this.options=void 0,this.cachedScrollPositions={},this.previousScrollRestoration=void 0,this.currentCacheKey=void 0,this.getAnchorElement=function(e){return("function"==typeof t.options.getAnchorElement?t.options:t.swup).getAnchorElement(e=void 0===e?"":e)},this.getOffset=e=>e?"function"==typeof this.options.offset?parseInt(String(this.options.offset(e)),10):parseInt(String(this.options.offset),10):0,this.onBeforeLinkToSelf=e=>{e.scroll.animate=this.shouldAnimate("samePage")},this.handleScrollToTop=e=>(this.swup.scrollTo?.(0,e.scroll.animate),!0),this.onBeforeLinkToAnchor=e=>{e.scroll.animate=this.shouldAnimate("samePageWithHash")},this.handleScrollToAnchor=(e,t)=>{t=t.hash;return this.maybeScrollToAnchor(t,e.scroll.animate)},this.onBeforeVisitStart=e=>{e.scroll.scrolledToContent=!1,e.scroll.animate=this.shouldAnimate("betweenPages")},this.onVisitStart=e=>{this.cacheScrollPositions(e.from.url),this.maybeResetScrollPositions(e),e.scroll.animate&&this.options.doScrollingRightAway&&!(e.scroll.target??e.to.hash)&&this.doScrollingBetweenPages(e)},this.handleScrollToContent=e=>{e.scroll.scrolledToContent||this.doScrollingBetweenPages(e),this.restoreScrollContainers(e.to.url)},this.doScrollingBetweenPages=r=>{if(!r.history.popstate||r.animation.animate){var e=r.scroll.target??r.to.hash;if((!e||!this.maybeScrollToAnchor(e,r.scroll.animate))&&r.scroll.reset){let e=this.getCachedScrollPositions(r.to.url),t=e?.window?.top||0;requestAnimationFrame(()=>this.swup.scrollTo?.(t,r.scroll.animate)),r.scroll.scrolledToContent=!0}}},this.maybeResetScrollPositions=e=>{var t=e.history.popstate,r=e.to.url,e=e.trigger.el;t||e&&!this.options.shouldResetScrollPosition(e)||this.resetScrollPositions(r)},this.options={...this.defaults,...e}}mount(){var r=this;let o=this.swup,i=(o.hooks.create("scroll:start"),o.hooks.create("scroll:end"),this.swup.createVisit({to:this.swup.currentPageUrl}));this.scrl=new n({onStart:()=>o.hooks.callSync("scroll:start",i,void 0),onEnd:()=>o.hooks.callSync("scroll:end",i,void 0),onCancel:()=>o.hooks.callSync("scroll:end",i,void 0),friction:this.options.scrollFriction,acceleration:this.options.scrollAcceleration}),o.scrollTo=function(e,t){(t=void 0===t?!0:t)?r.scrl.scrollTo(e):(o.hooks.callSync("scroll:start",i,void 0),window.scrollTo(0,e),o.hooks.callSync("scroll:end",i,void 0))},this.previousScrollRestoration=window.history.scrollRestoration,o.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.updateScrollTarget=this.updateScrollTarget.bind(this),this.options.markScrollTarget&&(window.addEventListener("popstate",this.updateScrollTarget),window.addEventListener("hashchange",this.updateScrollTarget),this.on("page:view",this.updateScrollTarget),this.on("link:anchor",this.updateScrollTarget),this.on("link:self",this.updateScrollTarget),this.updateScrollTarget()),this.before("visit:start",this.onBeforeVisitStart,{priority:-1}),this.on("visit:start",this.onVisitStart,{priority:1}),this.replace("content:scroll",this.handleScrollToContent),this.before("link:self",this.onBeforeLinkToSelf,{priority:-1}),this.replace("scroll:top",this.handleScrollToTop),this.before("link:anchor",this.onBeforeLinkToAnchor,{priority:-1}),this.replace("scroll:anchor",this.handleScrollToAnchor)}unmount(){super.unmount(),this.previousScrollRestoration&&(window.history.scrollRestoration=this.previousScrollRestoration),window.removeEventListener("popstate",this.updateScrollTarget),window.removeEventListener("hashchange",this.updateScrollTarget),this.cachedScrollPositions={},delete this.swup.scrollTo,delete this.scrl}shouldAnimate(e){return"boolean"==typeof this.options.animateScroll?this.options.animateScroll:this.options.animateScroll[e]}maybeScrollToAnchor(e,t){var r,o;return void 0===t&&(t=!1),!(!e||((r=this.getAnchorElement(e))?r instanceof Element?(o=r.getBoundingClientRect().top,o=o+window.scrollY-this.getOffset(r),this.swup.scrollTo?.(o,t),0):(console.warn(`Anchor target ${e} is not a DOM node`),1):(console.warn(`Anchor target ${e} not found`),1)))}cacheScrollPositions(e){var e=this.swup.resolveUrl(e),t=i(this.options.scrollContainers).map(e=>({top:e.scrollTop,left:e.scrollLeft})),t={window:{top:window.scrollY,left:window.scrollX},containers:t};this.cachedScrollPositions[e]=t}resetScrollPositions(e){e=this.swup.resolveUrl(e);delete this.cachedScrollPositions[e]}getCachedScrollPositions(e){e=this.swup.resolveUrl(e);return this.cachedScrollPositions[e]}restoreScrollContainers(e){let r=this.getCachedScrollPositions(e);r&&0!==r.containers.length&&i(this.options.scrollContainers).forEach((e,t)=>{t=r.containers[t];null!=t&&(e.scrollTop=t.top,e.scrollLeft=t.left)})}updateScrollTarget(){var e=window.location.hash,t=document.querySelector("[data-swup-scroll-target]");let r=this.getAnchorElement(e);t!==(r=r instanceof HTMLBodyElement?null:r)&&(t?.removeAttribute("data-swup-scroll-target"),r?.setAttribute("data-swup-scroll-target",""))}}}),((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).SwupOverlayTheme=t()})(this,function(){function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}let s=e=>String(e).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class e{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"==typeof this.requires&&Object.entries(this.requires).forEach(([t,r])=>{if(o=t,e=r=Array.isArray(r)?r:[r],!(i=(r=>{var e;if("swup"===o)return null!=(e=r.version)?e:"";{let e,t=r.findPlugin(o);return null!=(e=null==t?void 0:t.version)?e:""}})(i=this.swup))||(n=i,!e.every(e=>{var t,[,e,r]=e.match(/^([\D]+)?(.*)$/)||[];return r=r,t=s(t=n),r=s(r),t=t.localeCompare(r,void 0,{numeric:!0}),((r={"":e=>0===e,">":e=>0<e,">=":e=>0<=e,"<":e=>e<0,"<=":e=>e<=0})[e||">="]||r[""])(t)}))){let e=t+" "+r.join(", ");throw new Error(`Plugin version mismatch: ${this.name} requires `+e)}var o,e,i,n}),!0}on(e,t,r={}){t=!(o=t).name.startsWith("bound ")||o.hasOwnProperty("prototype")?t.bind(this):t;var o=this.swup.hooks.on(e,t,r);return this.handlersToUnregister.push(o),o}once(e,t,r={}){return this.on(e,t,o({},r,{once:!0}))}before(e,t,r={}){return this.on(e,t,o({},r,{before:!0}))}replace(e,t,r={}){return this.on(e,t,o({},r,{replace:!0}))}off(e,t){return this.swup.hooks.off(e,t)}}class t extends e{constructor(...e){super(...e),this._originalAnimationSelectorOption="",this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=()=>{this._classNameAddedToElements.forEach(t=>{Array.from(document.querySelectorAll(t.selector)).forEach(e=>{e.classList.add("swup-transition-"+t.name)})})}}_beforeMount(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.hooks.on("content:replace",this._addClassNameToElement)}_afterUnmount(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach(e=>{e.outerHTML=""}),this._addedStyleElements=[],this._addedHTMLContent.forEach(e=>{e.outerHTML=""}),this._addedHTMLContent=[],this._classNameAddedToElements.forEach(e=>{Array.from(document.querySelectorAll(e.selector)).forEach(t=>{t.className.split(" ").forEach(e=>{new RegExp("^swup-transition-").test(e)&&t.classList.remove(e)})})}),this.swup.hooks.off("content:replace",this._addClassNameToElement)}applyStyles(e){var t=document.createElement("style");t.setAttribute("data-swup-theme",""),t.appendChild(document.createTextNode(e)),document.head.prepend(t),this._addedStyleElements.push(t)}applyHTML(e){var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t),this._addedHTMLContent.push(t)}addClassName(e,t){this._classNameAddedToElements.push({selector:e,name:t}),this._addClassNameToElement()}}return class extends t{constructor(e){if(void 0===e&&(e={}),super(),this.name="SwupOverlayTheme",this.defaults={direction:"to-right",color:void 0,duration:void 0},this.directions=["to-left","to-right","to-top","to-bottom"],this.options={...this.defaults,...e},!this.directions.includes(this.options.direction))throw new Error("Invalid direction: "+direction)}mount(){this.applyStyles("html{--swup-overlay-theme-color:#2d2e82;--swup-overlay-theme-duration:.6s;--swup-overlay-theme-delay:.2s;--swup-overlay-theme-scale:1.2;--swup-overlay-theme-skew:5deg}.swup-transition-overlay{--swup-overlay-x-scale:1;--swup-overlay-y-scale:1;--swup-overlay-skew-direction:1;--swup-overlay-width-value:calc(100vw*var(--swup-overlay-x-scale));--swup-overlay-height-value:calc(100vh*var(--swup-overlay-y-scale));--swup-overlay-transform-x-value:calc(100%*var(--swup-overlay-x-scale));--swup-overlay-transform-y-value:calc(100%*var(--swup-overlay-y-scale));--swup-overlay-top-value:calc((1 - var(--swup-overlay-y-scale))*0.5*100vh);--swup-overlay-left-value:calc((1 - var(--swup-overlay-x-scale))*0.5*100vw);--swup-overlay-bottom-value:auto;--swup-overlay-right-value:auto;--swup-overlay-skew-value:calc(var(--swup-overlay-theme-skew)*var(--swup-overlay-skew-direction));background-color:var(--swup-overlay-theme-color);bottom:var(--swup-overlay-bottom-value);height:var(--swup-overlay-height-value);left:var(--swup-overlay-left-value);opacity:0;pointer-events:none;position:fixed;right:var(--swup-overlay-right-value);top:var(--swup-overlay-top-value);width:var(--swup-overlay-width-value);z-index:9999}html.is-changing .swup-transition-overlay{opacity:1;transition:transform var(--swup-overlay-theme-duration) var(--swup-overlay-theme-delay)}.swup-transition-overlay[data-direction=to-left],.swup-transition-overlay[data-direction=to-right]{--swup-overlay-x-scale:var(--swup-overlay-theme-scale)}.swup-transition-overlay[data-direction=to-right]{transform:translate3d(calc(var(--swup-overlay-transform-x-value)*-1),0,0) skewX(var(--swup-overlay-skew-value))}html.is-animating .swup-transition-overlay[data-direction=to-right]{transform:translateZ(0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-left],html.is-rendering .swup-transition-overlay[data-direction=to-right]{transform:translate3d(var(--swup-overlay-transform-x-value),0,0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-left]{--swup-overlay-skew-direction:-1}html.is-animating .swup-transition-overlay[data-direction=to-left]{transform:translateZ(0) skewX(var(--swup-overlay-skew-value))}html.is-rendering .swup-transition-overlay[data-direction=to-left]{transform:translate3d(calc(var(--swup-overlay-transform-x-value)*-1),0,0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-bottom],.swup-transition-overlay[data-direction=to-top]{--swup-overlay-y-scale:var(--swup-overlay-theme-scale)}.swup-transition-overlay[data-direction=to-bottom]{transform:translate3d(0,calc(var(--swup-overlay-transform-y-value)*-1),0) skewY(var(--swup-overlay-skew-value))}html.is-animating .swup-transition-overlay[data-direction=to-bottom]{transform:translateZ(0) skewY(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-top],html.is-rendering .swup-transition-overlay[data-direction=to-bottom]{transform:translate3d(0,var(--swup-overlay-transform-y-value),0) skewY(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-top]{--swup-overlay-skew-direction:-1}html.is-animating .swup-transition-overlay[data-direction=to-top]{transform:translateZ(0) skewY(var(--swup-overlay-skew-value))}html.is-rendering .swup-transition-overlay[data-direction=to-top]{transform:translate3d(0,calc(var(--swup-overlay-transform-y-value)*-1),0) skewY(var(--swup-overlay-skew-value))}"),this.applyHTML(this.createOverlay())}createOverlay(){var e=this.options.direction;return`
			<div
				class="swup-transition-overlay"
				data-direction="${e}"
				style="--swup-overlay-theme-color:${void 0!==this.options.color?this.options.color:"inherit"};--swup-overlay-theme-duration:${void 0!==this.options.duration?this.options.duration+"ms":"inherit"};"
			></div>
		`}}});